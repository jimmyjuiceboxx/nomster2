<div class="detail-box col-xs-12 col-sm-10 col-sm-offset-1">
  <div class="panel panel-default">
    <div class="panel-heading">   
        <h1><%= @place.name %></h1>
    </div>
      <div class="panel-body"> 
        <h4> Address:</h4>    
        <p><%= @place.address %></p><br />
        <h4> Description: </h4>
        <p><%= @place.description %></p><br />

                <!-- Map API --> 

              <!DOCTYPE html>
              <div class="map col-xs-12">
               
                
                  <html>
                    <head>
                      <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
                      <meta charset="utf-8">
                      <title>Simple markers</title>
                    </head>  
                    <body> 
                      <% if @place.latitude.present? && @place.longitude.present? %>  
                      <script>
                      var marker;
                      function initMap() {
                    
                      var myLatLng = {lat: <%= @place.latitude %>, lng: <%= @place.longitude %>};

                      var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 12,
                        center: myLatLng
                      });

                    
                        marker = new google.maps.Marker({
                        position: myLatLng,
                        draggable: false,
                        animation: google.maps.Animation.DROP,
                        map: map,
                        title: 'Hello World!'
                      });
                        marker.addListener('click', toggleBounce);
                      }
                      function toggleBounce() {
                        if (marker.getAnimation() !== null) {
                          marker.setAnimation(null);
                        } else {
                          marker.setAnimation(google.maps.Animation.BOUNCE);
                        }
                      }

                      </script>
                      <br />
                      <script async defer
                          src="https://maps.googleapis.com/maps/api/js?signed_in=true&callback=initMap"></script>
                      <div id="map"></div>
                      <% end %>    
                    </body>
                  </html>
                  <br />
              </div>  
                        

      


              <!-- Place Edit and Delete Button -->


              <div class="pull-right">
                
                <% if current_user && current_user == @place.user %>
                <%= link_to 'Edit', edit_place_path(@place), class: 'btn btn-primary' %>
                <%= link_to 'Delete', place_path(@place), method: :delete, data: {confirm: 'Are you sure you want to delete this?'}, class: 'btn btn-danger' %> 
                <% end %>
                  
               
              </div>
      </div>        
  </div>          
</div>              